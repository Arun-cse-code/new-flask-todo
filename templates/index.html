{% extends "base.html" %}
{% block title %} Home {% endblock title %}
{% block body %}

<center>
    <div class="todo-container">
        <h2 class="title">Task Reminder</h2>

        {% if not alltodo %}
        <div class="todo-card">
            <p class="todo-text">No Records Found! Add a To-Do.</p>
        </div>
        {% else %}
        {% for todo in alltodo %}
        <div class="todo-card">
            <input type="checkbox" class="todo-checkbox" onclick="deleteTask({{ todo.sno }})">
            <div class="todo-details">
                <p class="todo-title">{{ todo.title }}</p>
                <p class="todo-desc">{{ todo.desc }}</p>
            </div>
            
            <a href="/delete/{{ todo.sno }}" class="edit-btn">Delete</a>
        </div>
        {% endfor %}
        {% endif %}
    </div>
</center>

<!-- Add Task Form -->
<h3>Add a New Task</h3>
<form method="POST">
    <input type="text" name="title" placeholder="Title" required>
    <input type="text" name="desc" placeholder="Description" required>
    <button type="submit">Add Task</button>
</form>

<script>
    function deleteTask(taskId) {
        window.location.href = "/delete/" + taskId;
    }
</script>

{% endblock body %}
